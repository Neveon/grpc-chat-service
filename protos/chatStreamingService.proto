syntax = "proto3";

package chatStreamingService;

/* 
  The name field is a string type and its tag number is 1.
  This means that it is the first field in the LoginRequest, and its
  value will be serialized with a field number of 1 in the LoginRequest's
  binary representation
*/
message LoginRequest {
  string name = 1;
}

message LoginResponse {
  string message = 1;
}

/* 
  When the C++ code is generated from this proto file, 
  it will include a MessageResponse class with a 
  message() method to get the value of the message field, 
  and a set_message() method to set its value.
*/
message ChatMessage {
  string from = 1;
  string message = 2;
}

service ChatService {
  rpc Chat(stream ChatMessage) returns (stream ChatMessage) {}

  rpc JoinChat(LoginRequest) returns (ChatMessage) {}
}
